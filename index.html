<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LandingPageLocal</title>
    <link type="text/css" rel="stylesheet" href="css/main.css">
</head>

<body>
    <canvas  id="myCanvas"></canvas>
    <div class="main">
    <section id="TitleScreen">  
        <div id="titleTxt"> 
             <h1>Urban Planning</h1>
            <h2>For the Deep</h2>
        </div>
        <h4>How the Design for the New Treasure<br> Island Reckons with Sea Level Rise</h4>
        <button class="downArrow"type="button"onclick= "nextSection(introNar1)">
            <img src="icons/down.svg"> 
        </button>   
    </section>
    <div class="nav" id="TopNav">
        <button class="navItem">
        <img src="icons/logo.png"> 
        </button>
        <button class="navItem">
            <a href="pages/map.html">Main Map</a>
        </button>
        <button class="navItem">
            <a href="pages/about.html">About</a>
        </button>
    </div>
    <div id="introNar1">  
        <div class ="stickyBlock">
            <p id="bigPara">In 1936-37 Treasure Island (TI) was fabricated at sea level as part of the Works Progress Administration, a federal program to provide jobs and create infrastructure to help bring the U.S. out of the Great Depression.
            <div class="imgContainer" id="one"> 
                <img src ="media/placeholder1.jpg">
                <p class="caption">caption caption caption caption caption caption caption caption</p>
            </div>
            <div class="imgContainer" id="two"> 
                <img src ="media/buildingTower.jpg">
                <p class="caption">caption caption caption caption caption caption caption caption</p>
            </div>
        </div>
        <div class ="stickyBlock">
            <p id="bigPara">The island’s first event was the Golden Gate International Exhibition (GGIE), a world’s fair, 1939-1940.  After the fair closed with World War II looming, the U.S. Navy transformed the island into a base, which occupied the island until the end of the 20th century.</p>
            <div class="imgContainer" id="one"> 
                <img src ="media/GGIE_intro_1.jpg">
                <p class="caption">caption caption caption caption caption caption caption caption</p>
            </div>
            <div class="imgContainer" id="two"> 
                <img src ="media/GGIE_intro_2.jpg">
                <p class="caption">caption caption caption caption caption caption caption caption</p>
            </div>
        </div>
        <div class ="stickyBlock">
            <p id="bigPara">TI’s 400 acres will be 100% transformed in the next 15 years by its redevelopment. The comprehensive redesign addresses many environmental problems, including excess water.</p>
            <div class="imgContainer"> 
                <img src ="media/TIRedevRender.jpg">
                <p class="caption">caption caption caption caption caption caption caption caption</p>
            </div>
        </div>
        <div class ="stickyBlock">
            <div class="doublePara">
                <p id="smallPara">Flooding has always been part of TI’s landscape, even before sea level rise (SLR) began to accelerate.  From its inception TI has experienced wave overtopping, meaning that during storm surges and at the highest tides, waves break over its vintage, human-crafted edges and cause saltwater floods.</p>
                <p id="smallPara">The island also floods with rainwater. Ever since the navy paved TI, it has been pockmarked with ponding fresh water from storms that can make walking and driving difficult. The rainwater also sometimes overflows into underground basements and first floors.  The development plan mitigates for both ponding rainwater and SLR to create a new more habitable place.
                </p>
            </div>
            <div class="imgContainer" id="vulZone"> 
                <img src ="media/SLR_VUlnerability_Zone.png" >
                <p class="caption">caption caption caption caption caption caption caption caption</p>
            </div>
            <div class="imgContainer" id="sfArticle"> 
                <img src ="media/TiFoundingarticle.jpg">
                <p class="caption">caption caption caption caption caption caption caption caption</p>
            </div>
    </div>
</div>
    <section id="ClimateMaps">  
        <div class="TISLR1">
        <div id="climatTxt">
            <h2>Treasure island<br>& Sea Level Rise</h2>
            <h3>100 year Flood</h3>
            <p>These dynamic flood maps demonstrate probable flooding on TI in the event of a 100-year storm at various points over the next quarter-century. The maps on the left and right show before and after --that is expected flooding without redevelopment, as the island has been for its first 100 years, and with the reconstruction planned by the Treasure Island Development Authority, a state agency. Use the slider to show different outcomes for future scenarios, with and without the redevelopment.</p>
            <p>Scientists expect sea levels to rise at TI by between 5 and 16 inches by 2050, and between 24 and 66 inches by 2100, depending on how quickly glaciers melt and oceans warm. The Treasure Island Development Authority (TIDA) plans redevelopment in two phases in anticipation of the rising seas. The first phase will protect the island from 16 inches of sea-level rise (SLR), expected by mid-century.  The second phase of development will protect the island from 36 inches of SLR, expected by the end of this century. </p>
            <p>The flood simulations here are run for two SLR projections. The medium scenario includes 11” of sea-level rise by 2050, which is near the middle of the range of possibilities. The high scenario anticipates 24” of SLR by 2050, which is near the high end.  A flood of this height might flow across some of planned setbacks (landscape adaptations), but would not harm any of the buildings.</p>
            <p>A 100-year flood is a common metric that engineers and scientists use to assess flood risk. It represents a flood that has a 1% chance of occurring each year, when tides, storm surges, and tsunamis at TI are taken into account. Such an event will occur once every 100 years on average, but may not occur every century.  On the same token, it can occur several times in a single century if TI is unlucky. A 100-year flood event can cause significant loss of life, property, and infrastructure unless mitigation measures are taken, as in TIDA’s redevelopment plan.  SLR is leaving TI more vulnerable to the 100-year flood because it is increasing the baseline sea level on top of which the flood event will occur.</p>
        </div>

         </div>
        <div class="TISLR2">
            <div class="adMap">
            <h4><span>With</span> redevelopment </h4>
           <img  src="media/FloodBase.png"> 
           <img class="floodmap"src="media/FLOOD_H:M22:35A.png">
           </div>
           <div class="modelShifter">
           <div id="sliderBar">
            <div id="topSLR">
                <div id="yrSelected"type="button"><h6>0 in</h6></div>
                <div type="button"><h6>3 in</h6></div>
                <div type="button"><h6>7 in</h6></div>
            </div>
            <div id="slider">
                <div id="sliderRect"></div>
                <div class="sliderRectEND"></div>
                <div class="sliderRectEND" id="end"></div>
            </div>
           <button id="firstYr" class="SLRwitch  currentCirc" onclick="switchYR(firstYr, 0)"> <div></div></button> 
           <button id="secondYr" class="SLRwitch" onclick="switchYR(secondYr, 1)"> <div></div></button> 
           <button id="thirdYr"class="SLRwitch" onclick="switchYR(thirdYr, 2)"><div></div></button> 
            <div id="year">
                <div id="yrSelected"type="button"><h6 >2022</div>
                <div type="button"><h6>2035</h6></div>
                <div type="button"><h6>2050</h6></div>
               </div>
            </div>
            <div id="scenarios">
                <button id="med" class="scenario selected" type="button" onclick="switchScenarios(med, high)"><h7>medium slr</h7></button>
                <button id="high"class="scenario"type="button" onclick="switchScenarios(high, med)"><h7>high slr</h7></button>
            </div>
        </div>
           <div class="nAdMap">
            <h4><span>Without</span> redevelopment</h4>
           <img src="media/NDbase.png"> 
                <img id="2020M"class="floodmap selectedIMG"src="media/FLOOD_M2022NA.png"> 
                <img id="2035M"class="floodmap medIMG"src="media/2035_MED_NAD.png"> 
                <img id="2050M"class="floodmap medIMG"src="media/2050_MED_NAD.png"> 

        </div>
        </div>
            <!-- <button class="downArrow"type="button"onclick= "nextSection(introNar)">
                <img src="icons/down.svg"> 
            </button>    -->
        </section>
        <div id="introNar2">  
            <div class ="stickyBlock">
                <p id="bigPara">Shoreline communities, especially those situated on legacy low-lying land such as TI, are extremely susceptible to damage from sea level rise (SLR) caused by climate change. The severity of storms is increasing along with the volume of the oceans.
                <div class="imgContainer"> 
                    <img src ="media/Michael_1.jpg">
                    <p class="caption">caption caption caption caption caption caption caption caption</p>
                </div>
            </div> 
            <div class ="stickyBlock">
                <p id="bigPara"> These conditions affect coastal areas all over the world. In the U.S. alone in the next 80 years -- within the lifespan of a baby born today -- a conservative estimate is that the lives of 13 million people will be altered by SLR. Many homes and properties will flood or fall into the sea and people will be forced to move inland.
                <div class="imgContainer"> 
                    <img src ="media/SLRVulnerablityMappng.png">
                    <p class="caption">caption caption caption caption caption caption caption caption</p>
                </div>
            </div>
            <div class ="stickyBlock">
                <div class="doublePara">
                    <p id="smallPara">Flooding has always been part of TI’s landscape, even before sea level rise (SLR) began to accelerate.  From its inception TI has experienced wave overtopping, meaning that during storm surges and at the highest tides, waves break over its vintage, human-crafted edges and cause saltwater floods.</p>
                    <p id="smallPara">The island also floods with rainwater. Ever since the navy paved TI, it has been pockmarked with ponding fresh water from storms that can make walking and driving difficult. The rainwater also sometimes overflows into underground basements and first floors.  The development plan mitigates for both ponding rainwater and SLR to create a new more habitable place.
                    </p>
                </div>
                <div class="imgContainer" id="one"> 
                    <img src ="media/pier14.jpg">
                    <p class="caption">caption caption caption caption caption caption caption caption</p>
                </div>
                <div class="imgContainer" id="two"> 
                    <img src ="media/bayview.jpg">
                    <p class="caption">caption caption caption caption caption caption caption caption</p>
                </div>
            </div>
            <div id="noImg" class="stickyBlock">
                <p id="bigPara">Underserved communities are the most vulnerable.</p>
                <!-- <div class="imgContainer"> 
                    <img src ="media/placeholder1.jpg">
                    <p class="caption">caption caption caption caption caption caption caption caption</p>
                </div> -->
            </div>
            <div class ="stickyBlock">
                <div class="doublePara">
                    <p id="smallPara">When Category 3 Hurricane Katrina roared into New Orleans in 2005, close to 1800 people died, almost all of them low income.</p>
                    <p id="smallPara">Despite a mandatory evacuation order, at least a tenth of the city’s population remained, especially in the lowest lying and poorest areas of the city.Some stayed in their homes for emotional reasons, but many remained because they lacked communications technologies, financial resources or transportation
                    </p>
                </div>
                <div class="imgContainer" id="one"> 
                    <img src ="media/hurricane-katrina-new-orleans-la-10172005-ceola-perkins-returns-to-her-destroyed-278456.jpg">
                    <p class="caption">caption caption caption caption caption caption caption caption</p>
                </div>
                <div class="imgContainer" id="two"> 
                    <img src ="media/hurricane-katrina-new-orleans-la-august-31-2005-members-of-the-fema-urban-search-5cc8fe.jpg">
                    <p class="caption">caption caption caption caption caption caption caption caption</p>
                </div>
                <div class="imgContainer" id="three"> 
                    <img src ="media/hurricane-katrina-new-orleans-la-september-2-2005-neighborhoods-throughout-3e7fb4.jpg">
                    <p class="caption">caption caption caption caption caption caption caption caption</p>
                </div>
        </div>
        <div class ="stickyBlock">
            <div class="doublePara">
                <p id="smallPara">On TI the entire current population is low to middle income.  They number 1800, coincidentally the same number as those who lost their lives to Hurricane Katrina. However, before the storm there was never a redevelopment plan for the 9th Ward in New Orleans.</p>
                <p id="smallPara"> There is for TI and it’s already in progress.  It’s an SLR-conscious redesign and engineering of all 400 acres, with an inclusionary housing plan for current residents. A new multimodal transportation hub will be one of the first things to be completed.  
                </p>
            </div>
            <div class="imgContainer" id="three"> 
                <img src ="media/Ti_foodBank.png">
                <p class="caption">caption caption caption caption</p>
            </div>
            <div class="imgContainer" id="one"> 
                <img src ="media/TI_currentHomes.jpg">
                <p class="caption">caption caption caption caption</p>
            </div>
            <div class="imgContainer" id="two"> 
                <img src ="media/housing2.jpg">
                <p class="caption">caption caption caption caption</p>
            </div>
    </div>
    <div class ="stickyBlock">
        <p id="bigPara">Without this island redo over the next fifteen years, if a major storm were to hit TI, there’s little doubt that many members of the current community would die or suffer as did those in New Orleans during Katrina.</p>
        <div class="imgContainer"> 
            <img src ="media/katrinaAriel.jpg">
            <p class="caption">caption caption caption caption</p>
        </div>
    </div>
    </div>
    <div class ="stickyBlock" id="noImg">
        <a href="pages/map.html">
        <button class="exploreBtn">
            <h3>Explore the Redevelopment's <br>Sea Level Rise strategy</h3>
        </button>
        </a>
    </div>
    </div>
</body>

<script type="module">
    import * as THREE from "./js/build/three.module.js";
    import { Water } from "./js/examples/jsm/objects/Water2.js"

    let scene, camera, renderer, water, ground, increasing,  waterlines;
    const canvas = document.getElementById("myCanvas");
init();
animate();
function init() {
increasing =true; 
    // scene
    scene = new THREE.Scene();
    // camera
    camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 500 );
    camera.position.set( -1, 80, 0 );
    camera.lookAt( scene.position );

    // light
    var hemLight = new THREE.HemisphereLight(0xffffbb, 0x0808dd, 1);
  scene.add(hemLight); 
    const map = new THREE.TextureLoader();
    const groundGeometry = new THREE.PlaneGeometry( 600, 1000, 10, 10 );
    const groundMaterial = new THREE.MeshBasicMaterial( { color: 0xcccccc } );
     ground = new THREE.Mesh( groundGeometry, groundMaterial );
    ground.rotation.x = -90 * (Math.PI / 180);
    ground.rotation.z = -90 * (Math.PI / 180);
    scene.add( ground );
    const textureLoader = new THREE.TextureLoader();
     textureLoader.load( 'textures/waterBkgrnd.png', function ( map ) {
        map.wrapS = THREE.RepeatWrapping;
        map.wrapT = THREE.RepeatWrapping;
        map.repeat.set( 1, 1 );
        groundMaterial.map = map;
        groundMaterial.needsUpdate = true;
    } );
   
  //MAP PLANE
  var planeGeometry = new THREE.PlaneGeometry(8, 5);
  var planeMaterial = new THREE.MeshStandardMaterial({
    map: map,
    transparent: true,
    side: THREE.DoubleSide,
    depthWrite: false
  });
  let mapPlane = new THREE.Mesh(planeGeometry, planeMaterial);
  mapPlane.rotation.x =  Math.PI * - 0.5;
    ground.position.set(-410, -100, 130); 

    const waterGeometry = new THREE.PlaneGeometry( window.innerWidth, window.innerHeight
     );
    const flowMap = textureLoader.load('textures/Water_1_M_Flow.jpg' );
    water = new Water( waterGeometry, {
        scale: 2,
        textureWidth: 1024,
        textureHeight: 1024,
        flowMap: flowMap
    } );
    water.position.y = 1;
    water.rotation.x = Math.PI * - 0.5;
    scene.add( water );

    // flow map helper
    const helperGeometry = new THREE.PlaneGeometry( 200, 200 );
    const helperMaterial = new THREE.MeshBasicMaterial( { map: flowMap } );
    const helper = new THREE.Mesh( helperGeometry, helperMaterial );
    helper.position.y = 1.01;
    helper.rotation.x = Math.PI * - 0.5;
    helper.visible = false;
    scene.add( helper );
    // renderer
    renderer = new THREE.WebGLRenderer( {
         antialias: true,
         canvas: canvas, 
         alpha: true,
     } );
    renderer.setSize( window.innerWidth, window.innerHeight );
    renderer.setPixelRatio( window.devicePixelRatio );
    document.body.appendChild( renderer.domElement );
    window.addEventListener( 'resize', onWindowResize );
    document.body.style.background = "url(" + canvas.toDataURL() + ")";
}
function onWindowResize() {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize( window.innerWidth, window.innerHeight );
}
function animate() {
    if( ground.position.x< 400 &&increasing ==true){
        ground.position.x+=.05; 
        // ground.position.z+=.005; 
    }
    else if(ground.position.x>0 &&increasing ==false){
        ground.position.x-=.05; 
        // ground.position.z-=.005; 
    }
    else if(ground.position.x>=400 && increasing ==true){
        increasing =false; 
        ground.position.x-=.005; 
        // ground.position.z-=.01; 
    }
    else if(ground.position.x<=0 &&increasing ==false){
        increasing =true; 
        ground.position.x+=.005; 
        // ground.position.z+=.01; 
    }
    requestAnimationFrame( animate );
    render();
}
function render() {
    renderer.render( scene, camera );
}
</script>
<script src="js/landingPage.js"></script> 
</html>
