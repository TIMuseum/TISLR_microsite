<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=devideep
    -width, initial-scale=1.0">
    <title>Treasure Island - Keeping the Ocean at Bay</title>
    <link type="text/css" rel="stylesheet" href="css/main.css">


</head>

<body>
    <div class="regularContent">
    <canvas  id="myCanvas"></canvas>
    <div class="main">
    <section id="TitleScreen">  
        <div id="titleTxt"> 
             <h1>Keeping the Ocean<br></h1>
            <h1>At Bay</h1>
        </div>
        <h4 id="mainSub">How the Design for the New Treasure Island Reckons with Sea Level Rise</h4>
        <button class="downArrow"type="button"onclick= "nextSection(introNar1)">
            <img src="icons/down.svg"> 
        </button>   
    </section>
    <div class="nav" id="TopNav">
        <button class="navItem">
        <img src="icons/logo.png"> 
        </button>
        <button class="navItem">
            <a href="pages/map.html">Main Map</a>
        </button>
        <button class="navItem">
            <a href="pages/about.html">About</a>
        </button>
    </div>
    <div id="introNar1">  
        <div class ="stickyBlock">
            <p id="bigPara">In 1936-37 man-made Treasure Island was fabricated at sea level in San Francisco Bay. It is now being redeveloped into a sustainable neighborhood of some 8,000 homes and a visitor destination.<br><br>This requires making the island resilient in the face of sea level rise, a serious anticipated consequence of climate change.</p>
            <div class="imgContainer"> 
                <img src ="media/intro/intro_1.jpg">
                <p class="caption">Even at birth Treasure Island seemed vulnerable to the waves. Mitigations for sea level rise are built into all aspects of its redevelopment. (Treasure Island Museum, 1937)</p>
            </div>
        </div>
        <div class ="stickyBlock">
            <p id="bigPara">Captain Eugene Rideout of the Southern Pacific Railroad is often credited as the first, in 1920, with the idea to build an island atop Yerba Buena Shoals.</p>
            <div class="imgContainer" id="skinnyLong"> 
                <img src ="media/intro/intro_14.jpg">
                <p class="caption">(Treasure Island Museum/ San Francisco News,1938, clip courtesy of Eugene Rideout)</p>
            </div>
        </div>
        <div class ="stickyBlock">
            <p id="bigPara">However, Rideout was not the first. San Francisco's self-styled Emperor Norton issued two prophetic decrees in 1869, one -- to use fill to make an island on top of the shoals and two -- to build a bridge from Oakland via Yerba Buena Island to San Francisco.</p>
            <div class="imgContainer" id="threeB"> 
                <img src ="media/intro/intro_15.jpg">
                <p class="caption">(Photo by H.W. Bradley or William Rulofson, via Wikimedia Commons)</p>
            </div>
            <div class="imgContainer" id="oneB"> 
                <img src ="media/intro/intro_16.png">
                <p class="caption">This plaque on the old Bay Bridge recognized Norton's decree.  It now decorates the overlook for the new Bay Bridge. (Wikimedia Commons, 1959)</p>
            </div>
        </div>
        <div class ="stickyBlock" id="longBlock">
            <p id="bigPara">The island's first event was the Golden Gate International Exhibition, a world’s fair, 1939-1940.  After the fair closed, with World War II looming, the U.S. Navy transformed the island into a base, which remained active until the end of the 20th century. In the last 25 years, a diverse community has grown on the island of more than 2000 people, including families, living in repurposed naval housing. </p>
            <div class="imgContainer" id="three"> 
                <img src ="media/intro/intro_2.jpg">
                <p class="caption">On clear days in 1939-1940, the Golden Gate International Exhibition's Tower of the Sun was visible from the mainland.  The Treasure Island redevelopment includes a tall mixed-used tower near the same site. (Treasure Island Museum, 1938)</p>
            </div>
            <div class="imgContainer" id="one"> 
                <img src ="media/intro/intro_3.jpg">
                <p class="caption">Gothic-esque, the Tower of the Sun epitomized the remix of architectural styles that characterized the fair.  The tallest structure, it was billed as "a beacon to Pacific unity."  At night the entire fair was lit up in a spectrum of colors.  (Treasure Island Museum/Paul Totah, 1939)</p>
            </div>
            <div class="imgContainer"id="six"> 
                <img src ="media/intro/intro_4.jpg" >
                <p class="caption">The field of flowers sat beside the fair's Elephant Towers. They were named for the decorations atop the building's pinnacles — pachyderms wearing howdah saddles. (Treasure Island Museum/ Paul Totah, 1939)</p>
            </div>

            <div class="imgContainer" id="five"> 
                <img src ="media/intro/intro_5.jpg">
                <p class="caption">The elephant details were inspired by the Terrace of the Elephants at Angkor Wat, a large city of ancient temples in Cambodia.  The structure also paid homage to Aztec and Mayan architecture of Mexico and the Northern Triangle. (Treasure Island Museum/ Paul Totah, 1939)</p>
            </div>
        </div>
        <div class ="stickyBlock">
            <p id="bigPara">In 1941 the island became a U.S. Naval Station, anticipating conflict, and sailors began arriving in 1942 soon after Pearl Harbor.</p>
            <div class="imgContainer"> 
                <img src ="media/intro/intro_10.png">
                <p class="caption">Here sailors march in their dungaree uniforms and dixie cup hats after World War II had begun. (The U.S. Navy, 1946)</p>
            </div>
        </div>
        <div class="stickyBlock">
            <div class="doublePara">
                <p id="smallPara">The first eighteen WAVES, the name for the women's naval reserve during WWII, also reported for duty on Treasure Island in 1942. As their number grew, they worked as instructors in the training schools, in the dispensary, the commissary, the hospital and across the island and its operations. (Women were not assigned to units tasked with direct combat in the U.S. Military until 2013.)</p>
                <p id="smallPara">Over the course of the war the number of WAVES grew to 800 and filled six barracks. WAVES had a beauty parlor, their own mess hall and were assigned WAVES-only time slots in the recreational facilites, as well as their own sections for entertainment in the base's three theatres.</p>
            </div>
                <div class="imgContainer"> 
                    <img src ="media/intro/intro_11.png">
                    <p class="caption">(The U.S. Navy, 1946)</p>
                </div>
        </div>
        <div class="stickyBlock">
            <div class="doublePara">
                <p id="smallPara">In World War II, Naval Station Treasure Island processed 12,000 men per day for Pacific area assignments. The base was like a small city, serving all the needs of the sailors and naval administration.</p>
                <p id="smallPara">Here are two WWII big bands on the island.  The U.S. military remained segregated until 1948.  The Navy, however, had banned discrimination two years prior.</p>
            </div>
                <div class="imgContainer" id="one"> 
                    <img src ="media/intro/intro_17.png">
                    <p class="caption">(The U.S. Navy, 1946/Treasure Island Museum)</p>
                </div>
                <div class="imgContainer" id="three"> 
                    <img src ="media/intro/intro_18.jpg">
                    <p class="caption">(Treasure Island Museum, courtesy of Steefenie Wicks)</p>
                </div>
        </div>
        <div class ="stickyBlock">
            <p id="bigPara">Treasure Island’s 400 acres will be completely transformed in the next fifteen years by its redevelopment. Navy quarters for "married enlisted men" converted to affordable housing, will be razed. Redevelopment will bring 8,000 new homes, including 2,173 affordable housing units to Treasure Island and Yerba Buena Island.  The first new condominiums will be completed in early 2022, and the first 100% affordable building – developed in partnership with Swords to Plowshares and intended to provide housing for veterans – will be completed later in the year.  The first 1,300 new units are scheduled to be completed by the end of 2024. .</p>
            <div class="imgContainer"> 
                <img src ="media/intro/intro_24.jpg">
                <p class="caption">(Treasure Island Museum/Michael Hennahane)</p>
    </div>
</div>
<div class ="stickyBlock">
    <p id="bigPara">The comprehensive redesign addresses all identified environmental problems, including excess water from sea level rise (SLR). By 2035, the redevelopment of Treasure and Yerba Buena Islands is scheduled to be complete: a small, sparkling, San Francisco city annex, with parks, shops, services and 8000 new homes.  The design philosophy for the new place, driven by the City and County of San Francisco, is based on sustainability and inclusivity.</p>
    <div class="imgContainer"> 
        <img src ="media/intro/intro_6.jpg">
        <p class="caption">The new Treasure Island and neighbor Yerba Buena Island, also part of the redevelopment, will provide 290 acres of publicly accessible land, including 22 miles of walking, hiking and biking paths [The Treasure Island Development Authority, styled below as (TIDA) and Treasure Island Community Development (TICD), 2011]</p>
</div>
</div>
        <div class ="stickyBlock">
            <div class="doublePara">
                <p id="smallPara">Flooding has always been part of Treasure Island’s landscape, even before SLR began to accelerate.  There is wave overtopping, meaning that during storm surges and at the highest tides, waves break over its vintage, human-crafted edges and cause small saltwater floods.</p>
                <p id="smallPara">The 1930s-made Treasure Island also floods with rainwater.  Ever since the Navy paved the island, it has been pockmarked with ponding stormwater that can make walking and driving difficult. The development plan responds to problems of both ponding and SLR, envisioning a new, more habitable place for as many as 24,000 residents, plus commercial and non-profit businesses and service organizations.
                </p>
            </div>
            <div class="imgContainer" id="two"> 
                <img src ="media/intro/intro_7.png">
                <p class="caption">This San Francisco Planning Department map shows an upper range SLR projection and flooding at the end of the century on the mainland. The map models 66” inches of SLR, also the projected, upper range number in use by the Treasure Island Development Authority (TIDA) and partners in planning adaptive design features for the new development. (City of San Francisco Planning, 2021)</p>
            </div>
            <div class="imgContainer" id="one"> 
                <img src ="media/intro/intro_8.jpg">
                <p class="caption">Waves from a king tide overtop San Francisco's Pier 14. Yerba Buena Island is in the distance. (https://twitter.com/burritojustice, 2021)</p>
            </div>
    </div>
</div>
<div class ="stickyBlock">
    <div class="doublePara">
    <p id="smallPara">This is a rendering of the year 2100, projecting which parts of the Bay Area are most threatened by future SLR, combined with current rates of subsidence. Subsidence rates indicate how fast a particular piece of land is sinking. Without the reimagining of the island and its landscape, the northwest corner of Treasure Island would continue to sink at a fast rate. It has declined, however, and since 2004 the subsidence rate has deaccelerated by 40 per cent.</p>
    <p id="smallPara">Nevertheless, without the interventions planned, the northwest corner of the island would subside faster than the threatened areas of the San Francisco mainland.  The redevelopment will protect this most vulnerable part of Treasure Island by creating wild park land and wetlands to absorb excess water from both waves and rain. The parks and wetlands will also work as a natural recycler of the waters.</p>
    </div>
    <div class="imgContainer"> 
    <img src ="media/intro/intro_9.jpg">
    <p class="caption">(Shutterstock, 2021)</p>
</div>
</div>
    <section id="ClimateMaps">  
        <div class="TISLR1">
        <div id="climatTxt">
            <h2>Treasure Island & <br>Sea Level Rise</h2>
            <h8 id="breach2">100-year Storms and 100-year Floods</h8>
            <div class="sideParas">
            <p>The developers broke ground on the redevelopment of Treasure Island in 2016, beginning with large geotechnical improvements. Included in this first work phase are cutting edge techniques to densify the soil and remove water in the mud-fill originally used to construct the island in the 1930s. The perimeter of the island is also being shored up. The new Treasure Island is expected to be complete, including all buildings, infrastructure, parks and open spaces, in 2035. Adaptation to sea-level rise (SLR) is an integral part of the plans, as the old island was extremely vulnerable to the rising Bay. Mitigations are planned to be adaptive. The goal is resiliency in the face of uncertainty regarding the extent of possible SLR</p>
            <p>Toggle the buttons in the dynamic flood maps below to show probable flooding on Treasure Island if powerful storms were to occur in 2022, 2035, and/or 2050.  The map on the left shows sea water inundation if the proposed adaptation measures are completed, while the map on the right shows what flooding would look like if the redevelopment were not to happen.  The landscape at the north and northeast of the island will become open space and wetlands, an essential part of SLR mitigation as it can absorb flooding that in turn will nourish the island’s ecosystem.</p>
        </div>
        </div>

         </div>
        <div class="TISLR2">
            <div class="adMap">
            <h4><span>With</span> redevelopment </h4>
           <img src="media/FloodBase.png"> 

           <img id="2022M"class="medIMG floodmap selectedIMG"src="media/FLOOD_H:M22:35A.png"> 
           <img id="2035M"class="medIMG floodmap"src="media/FLOOD_H:M22:35A.png"> 
           <img id="2050M"class="medIMG floodmap"src="media/FLOOD_H:M22:35A.png">

           <img id="2022H"class="highIMG floodmap"src="media/FLOOD_H:M22:35A.png"> 
           <img id="2035H"class="highIMG floodmap"src="media/FLOOD_H:M22:35A.png"> 
           <img id="2050H"class="highIMG floodmap"src="media/2050_Dev_High.png">

        </div>
           <div class="nAdMap">
            <h4><span>Without</span> redevelopment</h4>
           <img src="media/NDbase.png"> 

            <img id="2022M"class="medIMG floodmap selectedIMG"src="media/FLOOD_M2022NA.png"> 
            <img id="2035M"class="medIMG floodmap"src="media/2035_MED_NAD.png"> 
            <img id="2050M"class="medIMG floodmap"src="media/2050_MED_NAD.png"> 

            <img id="2022H"class="highIMG floodmap"src="media/2022_NODev_High.png"> 
            <img id="2035H"class="highIMG floodmap"src="media/2035_NODev_High.png"> 
            <img id="2050H"class="highIMG floodmap"src="media/2050_NODev_High.png"> 
        </div>
        </div>

        <div class="modelShifter">
            <div id="sliderBar">
             <div id="topSLR">
                 <div id="yrSelected"type="button"><h6>4 inches</h6></div>
                 <div type="button"><h6>7 inches</h6></div>
                 <div type="button"><h6>11 inches</h6></div>
             </div>
             <div id="slider">
                 <div id="sliderRect"></div>
                 <div class="sliderRectEND"></div>
                 <div class="sliderRectEND" id="end"></div>
             </div>
            <button id="firstYr" class="SLRwitch  currentCirc" onclick="switchYR(firstYr, 0)"> <div></div></button> 
            <button id="secondYr" class="SLRwitch" onclick="switchYR(secondYr, 1)"> <div></div></button> 
            <button id="thirdYr"class="SLRwitch" onclick="switchYR(thirdYr, 2)"><div></div></button> 
             <div id="year">
                 <div id="yrSelected"type="button"><h6 >2022</div>
                 <div type="button"><h6>2035</h6></div>
                 <div type="button"><h6>2050</h6></div>
                </div>
             </div>
             <div id="scenarios">
                 <button id="med" class="scenario selected" type="button" onclick="switchScenarios(med, high)"><h7>medium slr</h7></button>
                 <button id="high"class="scenario"type="button" onclick="switchScenarios(high, med)"><h7>high slr</h7></button>
             </div>
         </div>
         <div>       
            <button class="navButtons" id="scienceBTn" onclick="openPopUp()">
            <h4>More Science</h4>
        </button>
    </div>
         <div class ="breach">
            <h9 id="breach2">2050 Breach scenario</h9>
            <p>The first round of Treasure Island’s redevelopment is designed to protect the building and infrastructure against flooding between now and 2070 and open spaces until 2050.  Nevertheless, it is possible there will be significant flooding in the event of a storm more powerful than those that cause 100-year floods.</p>
            <div class="breachContent">
                <p>Under such scenarios, new open space, wetlands and a 300 foot buffer between buildings and the island’s perimeter will mitigate the effect of waves that breach the shoreline. Elevated construction pads will keep flood waters out of buildings and other critical infrastructure. This image shows how wetland, green spaces and the elevated pads will protect buildings and people if such a flood occurs in the next 30 years.</p>
                <div class="breachIMG">
                <img src="media/Breach.png"> 
            </div>
            </div>
         </div>
    </section>
    <div class="moreScience">
        <button class="closeArrow"type="button"onclick= "removePopUp()">
            <img src="icons/Xbutton.svg"> 
        </button>  
        <p>The flood simulations in this Treasure Island & SLR tool show possible effects of a 100-year flood.  The exact rate of sea level increase over the next 30 years is unknown.  It will be determined by how quickly glaciers melt and oceans warm.  We show two different possibilities here. The medium projection includes 11” of sea-level rise from 2000 to 2050, while the high anticipates 24” of SLR in the same period.  In addition, the developers’ design strategies and construction plans are flexible enough to accommodate greater SLR -- up to 36“ --for the areas where residential and commercial real estate will be built.  A minimum of 16” of SLR is the plan for The Wilds and other open space areas at the north of the island, where fresh and ocean water will be absorbed by the greenery.  Greater levels of protection are planned should sea levels exceed the current projections.</p> 
        <p>A 100-year flood is a hypothetical scenario that scientists and engineers commonly use to assess flood risk. Based on past data, the metric represents a flood that should occur on an average of once every hundred years, when storms, tides, and tsunamis are taken into account. Exactly when such an event occurs is random, so such a flood may occur more than once in the next century if Treasure Island is unlucky. When a 100-year flood occurs, it will be destructive unless appropriate protection and adaptation measures are taken, such as those proposed in the redevelopment plan.</p>
    </div>
        <div id="introNar2">  
            <div class ="stickyBlock" id="noImg">
                <p id="bigPara">Shoreline communities, especially those situated on legacy low-lying land, such as Treasure Island before redevelopment, are extremely susceptible to damage from tides and storm surges because of SLR caused by climate change. The severity of storms is increasing along with the volume of the oceans.</p>
            </div>
            <div class ="stickyBlock">
                <div class="doublePara">
                    <p id="smallPara">These conditions affect coastal areas all over the world. In the U.S. alone in the next 80 years -- within the lifespan of a baby born today -- a conservative estimate is that the lives of 13 million people will be altered by SLR. Many homes and properties will flood and people will be forced to move inland.</p>
                    <p id="smallPara">  Treasure Island has mitigation plans in place, already in progress. Most coastal communities do not. Without adaptive design strategies similar to Treasure Island's, places along the shore will flood and residents will become climate refugees. Rapidly increasing populations will negatively impact local, inland governments, infrastructures and services if they are not prepared.</p>
                </div>
                <div class="imgContainer"> 
                    <img src ="media/intro/intro_25.jpeg">
                    <p class="caption">This map illustrates the probability that by 2100 as many as 13 million people in U.S. coastal communities will be forced out of their homes and businesses due to sea level rise. The red and light purple counties show where they are most Iikely to settle once displaced. (Bloomberg/plos.org © 2020 Robinson et al, Creative Commons Attribution License)</p>
                </div>
            </div>
            <div class="stickyBlock" id="medBlock">
                <div class="doublePara">
                    <p id="smallPara">When Category 3, Hurricane Katrina roared into New Orleans on August 29 2005, close to 1800 people died along the Gulf coast, almost all of them low income.</p>
                    <p id="smallPara"> Despite a mandatory evacuation order for greater New Orleans, at least a tenth of the city’s population remained, especially in the lowest lying and poorest areas of the city. Some stayed in their homes for emotional reasons, but many remained because they lacked communications technologies, financial resources or transportation.</p>
                </div>
                    <div class="imgContainer" id="four"> 
                        <img src ="media/intro/intro_26.jpg">
                        <p class="caption">This is what flooding looks like: in 2005 waters from Hurricane Katrina destroyed this New Orleans home. (The U.S. National Archives/ Jocelyn Augustino/ FEMA)</p>
                    </div>
                    <div class="imgContainer" id="three"> 
                        <img src ="media/intro/intro_27.jpg">
                        <p class="caption">In many parts of the city, Hurricane Katrina's waters did not recede until weeks later. The waters' retreat revealed more, different scenes of catastrophe. (picryl/The U.S. National Archives/Andrea Booher/FEMA, 2005)</p>
                    </div>
                    <div class="imgContainer" id="six"> 
                        <img src ="media/intro/intro_28.jpg">
                        <p class="caption">Rescue efforts the day after Katrina  (picryl/The U.S. National Archives/ Jocelyn Augustino/FEMA, 2005)</p>
                    </div>
            </div>
        <div class ="stickyBlock" id="medBlock">
            <div class="doublePara">
                <p id="smallPara">On Treasure Island the entire current population is low to middle income.  The residents number slightly more than 2000, similar to the number of lives lost in Katrina.  However, before that storm there was never a redevelopment plan for the Gulf Coast of Louisiana, nor for New Orleans, nor, for example, for its Lower 9th Ward, one of the poor parts of the city that was particularly hard hit by the catastrophic flooding.</p>
                <p id="smallPara">The plan for Treasure Island is already in progress. It’s an SLR-conscious redesign and geotechnical reengineering of all 400 acres, with an inclusionary housing plan for current residents. A new multimodal transportation hub will be one of the first things to be completed.</p>
            </div>
            <div class="imgContainer" id="four"> 
                <img src ="media/intro/intro_29.JPG">
                <p class="caption">About 50 percent of current Treasure Island residents are low income.  The non-profit One Treasure Island (OneTI) serves as an umbrella for social sevices, including food banks, such as the one pictured here.  (One Treasure Island)</p>
            </div>
            <div class="imgContainer" id="three"> 
                <img src ="media/intro/intro_30.jpg">
                <p class="caption">One TI's Construction Training Program equips residents with skills to find work on island and off with developers. Those trained include formerly homeless and formerly incarcerated individuals. (One Treasure Island, 2020)</p>
            </div>
            <div class="imgContainer" id="six"> 
                <img src ="media/intro/intro_31.jpg">
                <p class="caption">Proposed housing model for the new development (Treasure Island Community Development, 2020)</p>
            </div>
    </div>
    <div class ="stickyBlock">
        <p id="bigPara">Without this island redo over the next fifteen years, if a major storm were to hit Treasure Island, there’s little doubt that many members of the current community would suffer as did those in Louisiana during Katrina.  By 2035, the population is expected to grow to 24,000 residents. This entire, much larger community will be protected from rain and sea water flooding by the improvements described in this exhibit.</p>
        <div class="imgContainer"> 
            <img src ="media/intro/intro_33.jpg">
            <p class="caption">A small fraction of the New Orleans homes lost to flooding from Hurricane Katrina (picyrl/Jocelyn Augustino/FEMA 2005)</p>
        </div>
    </div>
    </div>
    <div class ="stickyBlock" id="noImg">
        <a href="pages/map.html">
        <button class="navButtons" id="exploreBtn">
            <h3>Explore Treasure Island's <br>Redevelopment & Sea Level Rise</h3>
        </button>
        </a>
    </div>
    </div>
    <video autoplay muted loop id="myVideo">
        <source src="media/wave3BckgrndVid.mp4" type="video/mp4">
      </video>
      </body>
    </div>
      <div class="mobile">
        <h2>Please use a<br><span>desktop</span> <br> or<br> <span>laptop</span> <br>computer<br> to view <br>this<br> experience</h2>
        <video autoplay muted loop id="myVideo">
            <source src="media/wave3BckgrndVid.mp4" type="video/mp4">
          </video>
    </div>
    <script src="js/landingPage.js"></script> 
</body>

<!-- <script type="module">
    import * as THREE from "./js/build/three.module.js";
    import { Water } from "./js/examples/jsm/objects/Water2.js"

    let scene, camera, renderer, water, ground, increasing,  waterlines;
    const canvas = document.getElementById("myCanvas");
init();
animate();
function init() {
increasing =true; 
    // scene
    scene = new THREE.Scene();
    // camera
    camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 500 );
    camera.position.set( -1, 80, 0 );
    camera.lookAt( scene.position );

    // light
    var hemLight = new THREE.HemisphereLight(0xffffbb, 0x0808dd, 1);
  scene.add(hemLight); 
    const map = new THREE.TextureLoader();
    const groundGeometry = new THREE.PlaneGeometry( 600, 1000, 10, 10 );
    const groundMaterial = new THREE.MeshBasicMaterial( { color: 0xcccccc } );
     ground = new THREE.Mesh( groundGeometry, groundMaterial );
    ground.rotation.x = -90 * (Math.PI / 180);
    ground.rotation.z = -90 * (Math.PI / 180);
    scene.add( ground );
    const textureLoader = new THREE.TextureLoader();
     textureLoader.load( 'textures/waterBkgrnd.png', function ( map ) {
        map.wrapS = THREE.RepeatWrapping;
        map.wrapT = THREE.RepeatWrapping;
        map.repeat.set( 1, 1 );
        groundMaterial.map = map;
        groundMaterial.needsUpdate = true;
    } );
   
  //MAP PLANE
  var planeGeometry = new THREE.PlaneGeometry(8, 5);
  var planeMaterial = new THREE.MeshStandardMaterial({
    map: map,
    transparent: true,
    side: THREE.DoubleSide,
    depthWrite: false
  });
  let mapPlane = new THREE.Mesh(planeGeometry, planeMaterial);
  mapPlane.rotation.x =  Math.PI * - 0.5;
    ground.position.set(-410, -100, 130); 

    const waterGeometry = new THREE.PlaneGeometry( window.innerWidth, window.innerHeight
     );
    const flowMap = textureLoader.load('textures/Water_1_M_Flow.jpg' );
    water = new Water( waterGeometry, {
        scale: 2,
        textureWidth: 1024,
        textureHeight: 1024,
        flowMap: flowMap
    } );
    water.position.y = 1;
    water.rotation.x = Math.PI * - 0.5;
    scene.add( water );

    // flow map helper
    const helperGeometry = new THREE.PlaneGeometry( 200, 200 );
    const helperMaterial = new THREE.MeshBasicMaterial( { map: flowMap } );
    const helper = new THREE.Mesh( helperGeometry, helperMaterial );
    helper.position.y = 1.01;
    helper.rotation.x = Math.PI * - 0.5;
    helper.visible = false;
    scene.add( helper );
    // renderer
    renderer = new THREE.WebGLRenderer( {
         antialias: true,
         canvas: canvas, 
         alpha: true,
     } );
    renderer.setSize( window.innerWidth, window.innerHeight );
    renderer.setPixelRatio( window.devicePixelRatio );
    document.body.appendChild( renderer.domElement );
    window.addEventListener( 'resize', onWindowResize );
    document.body.style.background = "url(" + canvas.toDataURL() + ")";
}
function onWindowResize() {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize( window.innerWidth, window.innerHeight );
}
function animate() {
    if( ground.position.x< 400 &&increasing ==true){
        ground.position.x+=.05; 
        // ground.position.z+=.005; 
    }
    else if(ground.position.x>0 &&increasing ==false){
        ground.position.x-=.05; 
        // ground.position.z-=.005; 
    }
    else if(ground.position.x>=400 && increasing ==true){
        increasing =false; 
        ground.position.x-=.005; 
        // ground.position.z-=.01; 
    }
    else if(ground.position.x<=0 &&increasing ==false){
        increasing =true; 
        ground.position.x+=.005; 
        // ground.position.z+=.01; 
    }
    requestAnimationFrame( animate );
    render();
}
function render() {
    renderer.render( scene, camera );
}
</script> -->

</html>
